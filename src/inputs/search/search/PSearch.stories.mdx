import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs/blocks';
import PSearch from './PSearch.vue';
import { reactive, toRefs } from '@vue/composition-api';
import {getSearchArgTypes} from '@/inputs/search/search/story-helper';

<Meta title='Inputs/Search' parameters={{
    design: {
        type: 'figma',
        url: 'https://www.figma.com/file/wq4wSowBcADBuUrMEZLz6i/SpaceONE-Console-Design?node-id=5952%3A1343',
    },
}} argTypes={getSearchArgTypes()}/>


export const Template = (args, { argTypes }) => ({
    props: Object.keys(argTypes),
    components: { PSearch },
    template: `
        <p-search v-model="_value"
                  :placeholder="placeholder"
                  :focused="focused"
                  :disabeld="disabled"
                  :disable-icon="disableIcon"
                  :is-focused="isFocused"
                  @search="onSearch"
                  @focus="onFocus"
                  @blur="onBlur"
                  @input="onInput"
                  @delete="onDelete"
        >
        </p-search>
    `,
    setup(props) {
        const state = reactive({
            _value: props.value
        })
        return {
            ...toRefs(state)
        }
    }
});


# Search
<br/>
<br/>

## Playground

<Canvas>
    <Story name="playground">
        {Template.bind({})}
    </Story>
</Canvas>

<ArgsTable story="playground"/>

