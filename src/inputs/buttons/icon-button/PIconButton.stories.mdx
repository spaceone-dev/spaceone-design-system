import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs/blocks';

import PIconButton from "@/inputs/buttons/icon-button/PIconButton";

import { getIconButtonArgTypes } from '@/inputs/buttons/icon-button/story-helper';
import {ICON_BUTTON_STYLE_TYPE} from '@/inputs/buttons/icon-button/type';

<Meta title='Inputs/Buttons/IconButton' parameters={{
    design: {
        type: 'figma',
        url: 'https://www.figma.com/file/wq4wSowBcADBuUrMEZLz6i/SpaceONE-Console-Design?node-id=5110%3A120777',
    }
}} argTypes={getIconButtonArgTypes()}
/>


export const Template = (args, { argTypes }) => ({
    props: Object.keys(argTypes),
    components: { PIconButton },
    template: `
        <div style="display:flex; align-items:center; justify-content:center; height:150px;">
            <p-icon-button
                :name="name"
                :style-type="styleType"
                :color="color"
                :disabled="disabled"
                :activated="activated"
                :loading="loading"
                :outline="outline"
                :size="size"
                :animation="animation"
            />
        </div>
    `,
    setup() {
        return {
        }
    }
});


# Icon Button

<br/>
<br/>
<br/>

## Size

<Canvas>
    <Story name="size">
        {{
            components:{ PIconButton },
            template: `
                <div style="display:flex; align-items:center; justify-content:center;">
                    <p-icon-button class="flex-shrink-0 mr-8" name="ic_refresh" size="sm" />
                    <p-icon-button class="flex-shrink-0 mr-8" name="ic_refresh" />
                    <p-icon-button class="flex-shrink-0 mr-8" name="ic_refresh" size="lg" />
                </div>`,
        }}
    </Story>
</Canvas>

<br/>
<br/>

## Outlined

<Canvas>
    <Story name="Outlined">
        {{
            components:{ PIconButton },
            template: `
                <div style="text-align:center">
                    <p-icon-button style-type="primary" :outline="true" style="margin: 1rem" name="ic_refresh" />
                    <p-icon-button style-type="secondary" :outline="true" style="margin: 1rem" name="ic_refresh" />
                    <p-icon-button style-type="alert" :outline="true" style="margin: 1rem" name="ic_refresh" />
                    <p-icon-button style-type="safe" :outline="true" style="margin: 1rem" name="ic_refresh" />
                </div>`,
        }}
    </Story>
</Canvas>

<br/>
<br/>

## Disabled

<Canvas>
    <Story name="Disabled">
        {{
            components:{ PIconButton },
            template: `
                <div style="text-align:center">
                    <p-icon-button style-type="primary" style="margin: 1rem" name="ic_refresh" />
                    <p-icon-button style-type="primary" :disabled="true" style="margin: 1rem" name="ic_refresh" />
                    <br/>
                    <p-icon-button style-type="transparent" style="margin: 1rem" name="ic_refresh" />
                    <p-icon-button style-type="transparent" :disabled="true" style="margin: 1rem" name="ic_refresh" />
                </div>`,
        }}
    </Story>
</Canvas>

<br/>
<br/>

## Animation

<Canvas>
    <Story name="Animation">
        {{
            components:{ PIconButton },
            template: `
                <div style="text-align:center">
                    <p-icon-button style-type="primary" animation="spin" style="margin: 1rem" name="ic_refresh" />
                    <br/>
                    <p-icon-button style-type="transparent" animation="spin" style="margin: 1rem" name="ic_refresh" />
                    <br/>
                    <p-icon-button style-type="gray-border" animation="spin" style="margin: 1rem" name="ic_refresh" />
                </div>`,
        }}
    </Story>
</Canvas>

<br/>
<br/>


## Activated

<Canvas>
    <Story name="Activated">
        {{
            components:{ PIconButton },
            template: `
                <div style="text-align:center">
                    <p-icon-button style-type="gray-border" style="margin: 1rem" name="ic_refresh" />
                    <p-icon-button style-type="gray-border" :activated="true" style="margin: 1rem" name="ic_refresh" />
                </div>`,
        }}
    </Story>
</Canvas>

<br/>
<br/>

## Style Types
<Canvas>
    <Story name="Style Types">
        {{
            components:{ PIconButton },
            template: `
<table style="border-collapse: separate; border-spacing: 16px;">
    <thead>
        <tr>
            <th colspan="2">style type / variations</th>
            <th>default</th>
            <th>disabled</th>
            <th>loading</th>
            <th>activated</th>
        </tr>
    </thead>
    <tbody>
        <template v-for="(styleType) in styleTypes">
        <tr :key="styleType+'default'">
            <th rowspan="2">{{styleType}}</th>
            <th>default</th>
            <td><p-icon-button :style-type="styleType" name="ic_search" /></td>
            <td><p-icon-button :style-type="styleType" name="ic_search" disabled /></td>
            <td><p-icon-button :style-type="styleType" name="ic_search" loading /></td>
            <td><p-icon-button :style-type="styleType" name="ic_search" activated /></td>
        </tr>
        <tr :key="styleType+'outline'">
            <th>outline</th>
            <td><p-icon-button :style-type="styleType" name="ic_search" outline /></td>
            <td><p-icon-button :style-type="styleType" name="ic_search" outline disabled /></td>
            <td><p-icon-button :style-type="styleType" name="ic_search" outline loading /></td>
            <td><p-icon-button :style-type="styleType" name="ic_search" outline activated /></td>
        </tr>
        </template>
    </tbody>
</table>`,
            setup() {
                return {
                    styleTypes: Object.values(ICON_BUTTON_STYLE_TYPE).sort((a, b) => {
                        if (a === 'transparent') return -1
                        if (a === 'gray-border') {
                            if (b === 'transparent') return 1
                            return -1
                        }
                        if (a < b) return -1;
                        if (a > b) return 1;
                    })
                }
            }
        }}
    </Story>
</Canvas>

<br/>
<br/>


## Playground

<Canvas>
    <Story name="Playground" >
        {Template.bind({})}
    </Story>
</Canvas>

<ArgsTable story="Playground" />
